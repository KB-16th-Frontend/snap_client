<style scoped>
.page-container {
    position: absolute;
    background-color: rgba(1, 1, 1, 0.5);
    padding: 0.25rem 0.5rem;
    border-radius: 50px;
    width: fit-content;
    color: white;
    font-size: 0.5rem;
    bottom: 1rem;
    right: 1rem;
    z-index: 99;
}
</style>

<template>
    <div class="position-relative w-100">
        <Carousel ref="carouselRef" v-model="currentSlide" v-bind="config" class="w-100">
            <Slide>
                <div
                    class="w-100 bg-primary d-flex text-white px-3 justify-content-between align-items-center"
                    style="height: 5rem"
                >
                    <div>
                        <BaseTypography size="md" weight="bold" color="white">
                            ë‚˜ì˜ ì˜¤ëŠ˜ì„ ì–´ì œë³´ë‹¤ ë” ê°€ì¹˜ìˆê²Œ!
                        </BaseTypography>
                        <BaseTypography size="sm" weight="medium" color="white">
                            ë‚˜ë§Œì˜ ì†Œë¹„ ìŠµê´€ ì„¤ì •í•˜ê¸°
                        </BaseTypography>
                    </div>
                    <BaseTypography size="2xl"> ğŸ˜ </BaseTypography>
                </div>
            </Slide>
            <Slide>
                <div
                    class="w-100 bg-light-blue d-flex text-white px-3 justify-content-between align-items-center"
                    style="height: 5rem"
                >
                    <div>
                        <BaseTypography size="md" weight="bold">
                            ëˆ ë²„ëŠ” ë°©ë²•ì´ ê¶ê¸ˆí•´?
                        </BaseTypography>
                        <BaseTypography size="sm" weight="medium">
                            ìŠ¤ëƒ…ê³¼ í•¨ê»˜ ëˆ ë²„ëŠ” ë°©ë²•ì„ ì•Œì•„ë³´ì„¸ìš”!
                        </BaseTypography>
                    </div>
                    <BaseTypography size="2xl"> ğŸ’¸ </BaseTypography>
                </div>
            </Slide>
            <Slide>
                <div
                    class="w-100 bg-light-blue d-flex text-white px-3 justify-content-between align-items-center"
                    style="height: 5rem"
                >
                    <div>
                        <BaseTypography size="md" weight="bold">
                            ëˆ ë²„ëŠ” ë°©ë²•ì´ ê¶ê¸ˆí•´?
                        </BaseTypography>
                        <BaseTypography size="sm" weight="medium">
                            ìŠ¤ëƒ…ê³¼ í•¨ê»˜ ëˆ ë²„ëŠ” ë°©ë²•ì„ ì•Œì•„ë³´ì„¸ìš”!
                        </BaseTypography>
                    </div>
                    <BaseTypography size="2xl"> ğŸ’¸ </BaseTypography>
                </div>
            </Slide>
        </Carousel>
        <div class="page-container">
            <p class="text-center text-white">{{ currentSlide + 1 }} / {{ total + 1 }}</p>
        </div>
    </div>
</template>

<script setup>
import 'vue3-carousel/carousel.css'
import { ref } from 'vue'
import { Carousel, Slide } from 'vue3-carousel'
import BaseTypography from '../common/Typography/BaseTypography.vue'

const carouselRef = ref()
const currentSlide = ref(0)

// 2ì´ˆ ê°„ê²©ìœ¼ë¡œ ë©”ì‹œì§€ë¥¼ ë³´ì—¬ì¤Œ
setInterval(() => onNext(), 3000)

const total = 2

const onNext = () => {
    if (currentSlide.value === total) {
        currentSlide.value = 0
    } else {
        carouselRef.value.next()
    }
}

const config = {
    height: 80,
    itemsToShow: 1,
    pauseAutoplayOnHover: true,
}
</script>

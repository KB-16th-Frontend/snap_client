<style scoped>
.page-container {
    position: absolute;
    background-color: rgba(1, 1, 1, 0.5);
    padding: 0.25rem 0.5rem;
    border-radius: 50px;
    width: fit-content;
    color: white;
    font-size: 0.5rem;
    bottom: 1rem;
    right: 1rem;
    z-index: 99;
}
</style>

<template>
    <div class="position-relative w-100">
        <Carousel ref="carouselRef" v-model="currentSlide" v-bind="config" class="w-100">
            <Slide>
                <div
                    class="w-100 bg-primary d-flex text-white px-3 justify-content-between align-items-center"
                    style="height: 5rem"
                >
                    <div>
                        <BaseTypography size="md" weight="bold" color="white">
                            λ‚μ μ¤λμ„ μ–΄μ λ³΄λ‹¤ λ” κ°€μΉμκ²!
                        </BaseTypography>
                        <BaseTypography size="sm" weight="medium" color="white">
                            λ‚λ§μ μ†λΉ„ μµκ΄€ μ„¤μ •ν•κΈ°
                        </BaseTypography>
                    </div>
                    <BaseTypography size="2xl"> π </BaseTypography>
                </div>
            </Slide>
            <Slide>
                <div
                    class="w-100 bg-light-blue d-flex text-white px-3 justify-content-between align-items-center"
                    style="height: 5rem"
                >
                    <div>
                        <BaseTypography size="md" weight="bold">
                            λ λ²„λ” λ°©λ²•μ΄ κ¶κΈν•΄?
                        </BaseTypography>
                        <BaseTypography size="sm" weight="medium">
                            μ¤λƒ…κ³Ό ν•¨κ» λ λ²„λ” λ°©λ²•μ„ μ•μ•„λ³΄μ„Έμ”!
                        </BaseTypography>
                    </div>
                    <BaseTypography size="2xl"> π’Έ </BaseTypography>
                </div>
            </Slide>
            <Slide>
                <div
                    class="w-100 bg-black d-flex text-white px-3 justify-content-between align-items-center"
                    style="height: 5rem"
                >
                    <div>
                        <BaseTypography size="md" weight="bold" color="white">
                            λ§λ“λλΌ λ„λ¬΄ νλ“¤μ—μ–΄μ”γ… 
                        </BaseTypography>
                        <BaseTypography size="sm" weight="medium" color="white">
                            μ¤λƒ…μΌλ΅ λ λ²κ³  μ‹¶μ–΄μ”!
                        </BaseTypography>
                    </div>
                    <BaseTypography size="2xl"> π­ </BaseTypography>
                </div>
            </Slide>
        </Carousel>
        <div class="page-container">
            <p class="text-center text-white">{{ currentSlide + 1 }} / {{ total + 1 }}</p>
        </div>
    </div>
</template>

<script setup>
import 'vue3-carousel/carousel.css'
import { ref, onUnmounted } from 'vue'
import { Carousel, Slide } from 'vue3-carousel'
import BaseTypography from '../common/Typography/BaseTypography.vue'

const carouselRef = ref()
const currentSlide = ref(0)
const total = 2

const onNext = () => {
    if (currentSlide.value === total) {
        currentSlide.value = 0
    } else {
        carouselRef.value.next()
    }
}

// μΈν„°λ² μ‹μ‘
const intervalId = setInterval(() => onNext(), 3000)

// μ»΄ν¬λ„νΈκ°€ μ κ±°λ  λ• μΈν„°λ² μ •λ¦¬
onUnmounted(() => {
    clearInterval(intervalId)
})

const config = {
    height: 80,
    itemsToShow: 1,
    pauseAutoplayOnHover: true,
}
</script>
